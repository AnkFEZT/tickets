import{o as a,s as e,r as m,b as c,a as u,n as k,d as p,q as n}from"./endpoint-DMaDmk8U.js";const g=a({price_amount:e(),price_currency:e(),customer_email:e().email(),confirmed_at:e().datetime(),refunded_at:e().datetime(),printed_at:e().datetime(),printed_file_name:e(),receipt_issued_at:e().datetime(),receipt_number:e()}),l=a({booking_id:e().uuid(),booked_at:e().datetime(),tickets:m(e().uuid(),g),last_update:e().datetime()}),_=u(l);async function b(t){const i={};t?.receiptIssueDate&&(i.receipt_issue_date=t.receiptIssueDate);const o=c(["api","ops","bookings"],i),s=await fetch(o);if(!s.ok)throw new Error(`Failed to get bookings: ${s.statusText}`);const d=await s.json();return _.parse(d)}const y=a({booking_id:e().uuid(),show_id:e().uuid(),number_of_tickets:k().int(),customer_email:e().email(),tickets:u(p()),last_update:e().datetime()});async function f(t){const i=c(["api","ops","bookings",t]),o=await fetch(i);if(!o.ok)throw new Error(`Failed to get booking: ${o.statusText}`);const s=await o.json();return y.parse(s)}const r={all:()=>["bookings"],list:t=>["bookings","list",t],detail:t=>["bookings","detail",t],mutations:{create:()=>["bookings","create"]}},h={list:t=>n({queryKey:r.list(t),queryFn:()=>b(t)}),detail:t=>n({queryKey:r.detail(t),queryFn:()=>f(t)})};export{r as b,h as q};
